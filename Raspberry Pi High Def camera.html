<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title>Raspberry Pi High Def camera</title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2022.3">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; color: #000000; -webkit-text-stroke: #000000}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Courier; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; text-indent: 54.3px; font: 12.0px Menlo; color: #000000; -webkit-text-stroke: #000000}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Times; color: #000000; -webkit-text-stroke: #000000; min-height: 14.0px}
    span.s1 {font-kerning: none}
    span.s2 {text-decoration: underline ; font-kerning: none; color: #0000e9; -webkit-text-stroke: 0px #0000e9}
    span.s3 {text-decoration: underline ; font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">Tried installing the drivers from Nvidia to enable support for the RPi IMX477 - see here <a href="https://developer.nvidia.com/embedded/downloads#?search=RPi%20IMX477%20Support%20Nano%202GB"><span class="s2">https://developer.nvidia.com/embedded/downloads#?search=RPi IMX477 Support Nano 2GB</span></a><br>
<br>
I was using L4T 4.5 and hoped to install the driver despite the download specifying 4.4.</span></p>
<p class="p2"><span class="s1">When trying to install the driver you will be met with an error message stating your version is too high (step 4 in the readme)<br>
4. sudo l4t_payload_updater_t210 bl_update_payload_imx219</span></p>
<p class="p2"><span class="s1">I tried formatting my SD card back to the previous version of L4T from the nvidia download site.</span></p>
<p class="p2"><span class="s1">Once completed, constantly experiencing the following error when trying to interact with any apt commands to install packages.</span></p>
<p class="p3"><span class="s1"></span><br></p>
<p class="p4"><span class="s1">ERROR. Procedure for bootloader update FAILED.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>Cannot install package. Exiting...</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>dpkg: error processing package nvidia-l4t-bootloader (--configure):</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">         </span>installed nvidia-l4t-bootloader package post-installation script subprocess returned error exit status 1</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>Setting up locate (4.6.0+git+20170828-2) ...</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>Processing triggers for man-db (2.8.3-2ubuntu0.1) ...</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>Errors were encountered while processing:</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">         </span>nvidia-l4t-bootloader</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>E: Sub-process /usr/bin/dpkg returned an error code (1)</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">Trying to re-flash the Jetson using an x64 desktop machine running Ubuntu 18.04 as required by the Nvidia SDK manager at the time of writing (Feb/09/2021).</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">Flashing the Jetson was </span><span class="s3">successful in resolving the above error</span><span class="s1"> but required a few steps to do initially to get right.<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s1">First you must put your device into recovery mode, this is done by powering off the device, disconnecting it from a power source and finally shorting the recovery pins (3+4) on the back of the device near the SD card slot. The pins are marked on the board which is helpful. This could be done with a jumper or a screwdriver to bridge the pins. Once you have shorted the pins, plug the Jetson back into your computer and it will be picked up by the SDK manager in recovery mode. You can then proceed with the flash as you would expect.<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">I have found randomly that despite a successful flash reported by the SDK manager, I am unable to get the Nvidia setup prompt to appear over a serial connection, typically the setup assistant<span class="Apple-converted-space">  </span>shows up quickly but in these occasions you get a timeout error and then are presented with a login prompt.<span class="Apple-converted-space"> </span></span></p>
<p class="p2"><span class="s1">This can be remedied by another flash of the board.<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">Installing the high def camera drivers and then doing a manual upgrade of jetpack to the next major release does not keep the driver in tact.</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">I have also tried to bypass the version check in the driver blob for the camera by modifying the python script in the driver README file - This also does not work as expected as far more is flashed compared to L4T4.4 where the flash completes very quickly and a lot of regions are unchanged.<span class="Apple-converted-space"> </span></span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">There are other issues with L4T where systemd needs to be held back.</span></p>
<p class="p1"><span class="s1"></span><br></p>
<p class="p2"><span class="s1">Hopefully Nvidia release an updated driver for L4T4.5<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"></span><br></p>
</body>
</html>
